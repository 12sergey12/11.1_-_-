# Домашнее задание к занятию 11.1. «Базы данных, их типы» Сергей Баранов


### Задание 1. СУБД

### Кейс

Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать правильную архитектуру для работы с данными. Ниже 
представлены задачи, которые необходимо решить для каждой предметной области.

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему?


1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчетов и прогнозирования рисков. СУБД должна гарантировать целостность и 
чёткую структуру данных.

Реляционные базы данных, или базы данных SQL. Основная особенность - надежность и неизменяемость данных, низкий риск потери информации. При обновлении 
данных их целостность гарантирована, они заменяются в одной таблице. Подойдут SQL, PostgreSQL, MySQL.


1.1.* Хеширование стало занимать длительное время, какое API можно использовать для ускорения работы?

База данных типа "ключ-значение". Такие базы данных как правило используют хеш-таблицу, в которой находится уникальный ключ и указатель на конкретный объект 
данных. Производительность сильно вырастает за счет кэширующих механизмов. Чтобы прочитать значение, нужно знать как ключ, так и блок, поскольку на самом 
деле ключ является хэшем (блок + ключ). 
Riak и Dynamo от Amazon - самые популярные СУБД данных такого типа.


1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к маркетологам и менеджерам по продажам. Какой тип 
СУБД лучше использовать для лендингов и для CRM? СУБД должны быть гибкими и быстрыми.

NoSQL: ключ-значение, так как они легко настраиваются, хорошо масштабируются и быстро реагируют на запросы информации, а менеджерам по продажам можно 
использовать графовую, чтобы эффективно анализировать запросы и предпочтения клиентов.


1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

PostgreSQL, реляционную СУБД


1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу и так далее, сформированную согласно структуре 
компании. СУБД должна иметь простую и понятную структуру.

NoSQL: документо - ориентированные или иерархическая БД, так как необходима база, которая имеет четкую структуру и зависимости, а также позволяла легко 
изменять ее и осуществлять поиск обучающего материала.


1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это реализовать?

Возможно использоаать MongoDB. У MongoDB открытый исходный код. С помощью идентификатора можно осуществлять манипуляции над объектом с высокой скоростью. 
При сложных операциях СУБД тоже демонстрирует весьма хорошие показатели.


1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов по объектам и распределению курьеров по маршрутам 
с доставкой документов. СУБД должна уметь быстро работать со связями.

На мой взгляд подойдет графовая СУБД, предназначенная для хранения информации, связанной с графами, где требуется хранить связи между пользователями по 
разным критериям, анализировать маршруты и выдавать наиболее удобные.


1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД логистов?

Лучше сформировать отдельную БД, так как необходима целостность данных и учитывать возможность блокировки транзакций, если заканчивается товар. Так же для 
них актуальна структурированная и надежная система, такая как реляционная БД.


1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

Возможно, но надо оценивать требования по самому ненадежному узлу, так как для финансово-аналитических отчетов необходима целостность и четкая структура. 
За счет четкой структуры мы потеряем в скорости обработки запросов.

Приведите ответ в свободной форме.


---


### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы транзакция завершилась успешно. Ориентируйтесь на шесть действий.

1. Выбирается услуга пополнение счета, проверяется ее доступность;
2. Вводится данные банковской карты, пин-код, проверка корректности введенных данных, формируется транзакция, которой присваивается номер;
3. Подтверждение введенных данных;
4. После подтверждения данные направляются к оператору, которые перенаправляет их в банк получатель;
5. Банк-получатель сверяет полученные данные с данными счета, и подтверждает, или отклоняет транзакцию;
6. Банк направляет ответ о результате выполнения транзакции оператору, а он направляет ее пользователю. В результате счет пополнен или выдаст что транзакция 
отклонена.


2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатеж?

Порядок такой же, только в базе данных оператора фиксируются заранее установленные пользователем данные о порядке автоматического пополнения счета (данные 
карты, условия и срок пополнения) и на основании этого выполняет задание на пополнение счета.

Приведите ответ в свободной форме.


---


### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL.

* Целостность данных;
* Надежность;
* Поддержка транзакций;
* Строгие правила проектирования;
* Отображение данных в наиболее простой для пользователя форме.


3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

1. SQL как основной механизм для взаимодействия.
2. ACID поддержка транзакций.
3. Механизм управления без применения блокировок, таким образом считывающие данные в реальном времени не будут находится в противоречии с записывающими, что 
исключает конфликт.
4. Архитектура, обеспечивающая намного выше производительность узла, чем доступный из традиционных решений RDBMS. Системы NewSQL приблизительно в 50 раз 
быстрее, чем традиционный OLTP RDBMS.
5. Удобное масштабирование, способное управлять большим количеством узлов, не перенося узкие места.

Приведите ответ в свободной форме.


---


### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу выделено 1000 машин.
На основе какого критерия будете выбирать тип СУБД и какая модель распределенных вычислений здесь справится лучше всего и почему?

Тип БД стоит выбирать по возможности ее масштабирования и скорости обмена данных, при таком объеме машин, лучше все подойдут NoSQL базы данных. Так как 
данные скорее всего будут разнородные и неструктурированные.
Можно использовать Hadoop - это программная платформа для сбора, хранения и обработки очень больших объемов данных: данные датчиков, интернет-трафика, 
объектов JSON, файлов журналов, изображений и сообщений в соцсетях. Фреймворк для разработки и выполнения распределенных программ, работающих на кластерах 
из сотен и тысяч узлов. Из преимуществ поисковые и контекстные механизмы высоконагруженных веб-сайтов и интернет-магазинов в том числе аналитики поисковых 
запросов и пользовательских логов, быстрая обработка графических данных.

Приведите ответ в свободной форме.
